(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{273:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(1),c=n.n(l),u=n(4),i=n.n(u),o=n(258);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},E={user:null,isLoading:!1,error:!1},d=function(e){var t=e.id,n=Object(r.useReducer)(m,E),l=c()(n,2),u=l[0],i=l[1],s=u.user,d=u.isLoading,f=u.error;return Object(r.useEffect)((function(){var e=1e3*parseInt(t);i({isLoading:!0,error:!1}),o.b.getUser(t,e).then((function(e){return i({user:e,isLoading:!1})})).catch((function(){return i({error:!0,isLoading:!1})}))}),[t]),d?a.a.createElement("div",null,"Loading user ",t):f||!s?a.a.createElement("div",null,"Error fetching user ",t):a.a.createElement("section",null,a.a.createElement("h3",null,s.name," (",s.id,")"),a.a.createElement("ul",null,a.a.createElement("li",null,"Username: ",s.username),a.a.createElement("li",null,"Email: ",s.email)))};d.displayName="UserCard";var f=d,p=n(260),b=n(259),v=Object(b.a)(o.b.getUser.bind(o.b)),g=function(e){var t=e.id,n=1e3*parseInt(t),r=v.read(t,n);return a.a.createElement("section",null,a.a.createElement("h3",null,r.name," (",r.id,")"),a.a.createElement("ul",null,a.a.createElement("li",null,"Username: ",r.username),a.a.createElement("li",null,"Email: ",r.email)))},h=function(e){var t=e.id;return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading user ",t,"...")},a.a.createElement(p.a,{fallback:a.a.createElement("div",null,"Error loading user ",t,"."),errorKey:t},a.a.createElement(g,{id:t})))},O=function(e){var t=e.children,n=Object(r.useState)(1),l=c()(n,2),u=l[0],i=l[1];return a.a.createElement("div",null,a.a.createElement("input",{type:"number",value:u,onChange:function(e){return i(e.target.value)}}),t({value:u}))},j=n(12),y=n(261);t.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Race conditions"),a.a.createElement("h2",null,"With hooks"),a.a.createElement(y.a,null,a.a.createElement(O,null,(function(e){var t=e.value;return a.a.createElement(f,{id:t})}))),a.a.createElement("h2",null,"With suspense"),a.a.createElement(y.a,null,a.a.createElement(O,null,(function(e){var t=e.value;return a.a.createElement(h,{id:t})}))),a.a.createElement("div",{style:{marginTop:"2rem"}},a.a.createElement(j.a,{fileName:"components/race-conditions/RaceConditionsHooks.js",text:"With Hooks"}),a.a.createElement(j.a,{fileName:"components/race-conditions/RaceConditionsSuspense.js",text:"With Suspense"}),a.a.createElement(j.a,{fileName:"utils/create-cached-resource.js",text:"create-cached-resource"})),a.a.createElement(o.a,null))}}}]);