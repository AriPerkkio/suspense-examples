(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{258:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},260:function(e,t,n){var r=n(261),a=n(258);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},261:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},262:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},263:function(e,t,n){var r=n(264);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},264:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},266:function(e,t,n){"use strict";var r=n(267),a=n.n(r),o=n(268),c=n.n(o),l=n(260),u=n.n(l),i=n(262),s=n.n(i),f=n(258),p=n.n(f),m=n(263),E=n.n(m),d=n(5),b=n.n(d),h=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=u()(this,(e=s()(t)).call.apply(e,[this].concat(o))),b()(p()(n),"state",{hasError:!1}),n}return E()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e,t){var n=e.errorKey!==this.props.errorKey,r=t.hasError&&this.state.hasError;n&&r&&this.setState({hasError:!1})}},{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(n(0).Component);n.d(t,"a",(function(){return h}))},271:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(23),c=n(270),l=function(){return a.a.createElement("div",null,a.a.createElement(o.a,{onClick:c.b},"Reset resource caches"))};n.d(t,"a",(function(){return l}))},276:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(1),c=n.n(o),l=n(5),u=n.n(l),i=n(259);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},p={user:null,isLoading:!1,error:!1},m=function(e){var t=e.id,n=Object(r.useReducer)(f,p),o=c()(n,2),l=o[0],u=o[1],s=l.user,m=l.isLoading,E=l.error;return Object(r.useEffect)((function(){u({isLoading:!0,error:!1}),i.b.getUser(t).then((function(e){return u({user:e,isLoading:!1})})).catch((function(){return u({error:!0,isLoading:!1})}))}),[t]),m?a.a.createElement("div",null,"Loading user ",t,"..."):E||!s?a.a.createElement("div",null,"Error loading user ",t,"."):a.a.createElement("section",null,a.a.createElement("h3",null,s.name," (",s.id,") (props.id ",t,")"),a.a.createElement("ul",null,a.a.createElement("li",null,"Username: ",s.username),a.a.createElement("li",null,"Email: ",s.email)))},E=n(266),d=n(265),b=Object(d.a)(i.b.getUser),h=function(e){var t=e.id,n=b.read(t);return a.a.createElement("section",null,a.a.createElement("h3",null,n.name," (",n.id,") (props.id ",t,")"),a.a.createElement("ul",null,a.a.createElement("li",null,"Username: ",n.username),a.a.createElement("li",null,"Email: ",n.email)))},y=function(e){var t=e.id;return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading user ",t,"...")},a.a.createElement(E.a,{fallback:a.a.createElement("div",null,"Error loading user ",t,"."),errorKey:t},a.a.createElement(h,{id:t})))},v=function(e){var t=e.children,n=Object(r.useState)(1),o=c()(n,2),l=o[0],u=o[1];return a.a.createElement("div",null,a.a.createElement("input",{type:"number",value:l,onChange:function(e){return u(e.target.value)}}),t(l))},O=n(269),g=n(12),j=n(271);t.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Race conditions"),a.a.createElement("div",{className:"common-flex-wrapper"},a.a.createElement("div",null,a.a.createElement("h2",null,"With hooks"),a.a.createElement(O.a,null,a.a.createElement(v,null,(function(e){return a.a.createElement(m,{id:e})})))),a.a.createElement("div",null,a.a.createElement("h2",null,"With suspense"),a.a.createElement(O.a,null,a.a.createElement(v,null,(function(e){return a.a.createElement(y,{id:e})}))))),a.a.createElement(j.a,null),a.a.createElement("div",null,a.a.createElement(g.a,{fileName:"components/race-conditions/RaceConditionsHooks.js",text:"With Hooks"}),a.a.createElement(g.a,{fileName:"components/race-conditions/RaceConditionsSuspense.js",text:"With Suspense"}),a.a.createElement(g.a,{fileName:"utils/create-cached-resource.js",text:"create-cached-resource"})),a.a.createElement(i.a,null))}}}]);