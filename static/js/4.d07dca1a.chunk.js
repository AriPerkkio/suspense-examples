(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{274:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(1),c=n.n(l),i=n(5),u=n.n(i),o=n(258);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},E={user:null,isLoading:!1,error:!1},d=function(e){var t=e.id,n=Object(r.useReducer)(m,E),l=c()(n,2),i=l[0],u=l[1],s=i.user,d=i.isLoading,p=i.error;return Object(r.useEffect)((function(){u({isLoading:!0,error:!1}),o.b.getUser(t).then((function(e){return u({user:e,isLoading:!1})})).catch((function(){return u({error:!0,isLoading:!1})}))}),[t]),d?a.a.createElement("div",null,"Loading user ",t,"..."):p||!s?a.a.createElement("div",null,"Error loading user ",t,"."):a.a.createElement("section",null,a.a.createElement("h3",null,s.name," (",s.id,") (props.id ",t,")"),a.a.createElement("ul",null,a.a.createElement("li",null,"Username: ",s.username),a.a.createElement("li",null,"Email: ",s.email)))},p=n(260),f=n(259),v=Object(f.a)(o.b.getUser),b=function(e){var t=e.id,n=v.read(t);return a.a.createElement("section",null,a.a.createElement("h3",null,n.name," (",n.id,") (props.id ",t,")"),a.a.createElement("ul",null,a.a.createElement("li",null,"Username: ",n.username),a.a.createElement("li",null,"Email: ",n.email)))},g=function(e){var t=e.id;return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading user ",t,"...")},a.a.createElement(p.a,{fallback:a.a.createElement("div",null,"Error loading user ",t,"."),errorKey:t},a.a.createElement(b,{id:t})))},h=function(e){var t=e.children,n=Object(r.useState)(1),l=c()(n,2),i=l[0],u=l[1];return a.a.createElement("div",null,a.a.createElement("input",{type:"number",value:i,onChange:function(e){return u(e.target.value)}}),t({value:i}))},O=n(261),j=n(12);t.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Race conditions"),a.a.createElement("div",{className:"common-flex-wrapper"},a.a.createElement("div",null,a.a.createElement("h2",null,"With hooks"),a.a.createElement(O.a,null,a.a.createElement(h,null,(function(e){var t=e.value;return a.a.createElement(d,{id:t})})))),a.a.createElement("div",null,a.a.createElement("h2",null,"With suspense"),a.a.createElement(O.a,null,a.a.createElement(h,null,(function(e){var t=e.value;return a.a.createElement(g,{id:t})}))))),a.a.createElement("div",{style:{marginTop:"2rem"}},a.a.createElement(j.a,{fileName:"components/race-conditions/RaceConditionsHooks.js",text:"With Hooks"}),a.a.createElement(j.a,{fileName:"components/race-conditions/RaceConditionsSuspense.js",text:"With Suspense"}),a.a.createElement(j.a,{fileName:"utils/create-cached-resource.js",text:"create-cached-resource"})),a.a.createElement(o.a,null))}}}]);